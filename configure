#!/bin/bash

if [ -z "$QTDIR" ] ; then
  echo "QTDIR not defined"
  echo "You almost certainly need QTDIR defined and pointing at your QT installation"
  echo "If you know different, edit ./configure and remove this test."
  exit 1
fi
 
# QMAKESPEC is possibly also required on some systems
# See Qt/qmake docs for your system and Evolvotron README if you have any problems.

# Don't run qmake -project again!!! (It wipes fracplanet.pro)

# TODO: Should test "which qmake" here.  If not found, add $(QTDIR)/bin to path

echo "Your qmake version is:"
qmake --version
 
echo
echo "Your gcc version is (unless qmake is set up to use a different one):"
gcc --version

VERSION_NUMBER=`./VERSION` 
echo "Running qmake..."

qmake "CPU=$1" "VERSION_NUMBER=$VERSION_NUMBER" fracplanet.pro

echo "...configuration completed - ready to do 'make' now"
